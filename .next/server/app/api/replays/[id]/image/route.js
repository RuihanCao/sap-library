(()=>{var a={};a.id=410,a.ids=[410],a.modules={261:a=>{"use strict";a.exports=require("next/dist/shared/lib/router/utils/app-paths")},389:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{handler:()=>x,patchFetch:()=>w,routeModule:()=>y,serverHooks:()=>B,workAsyncStorage:()=>z,workUnitAsyncStorage:()=>A});var e=c(5736),f=c(9117),g=c(4044),h=c(9326),i=c(2324),j=c(261),k=c(4290),l=c(5328),m=c(8928),n=c(6595),o=c(3421),p=c(7679),q=c(1681),r=c(3446),s=c(6439),t=c(1356),u=c(2812),v=a([u]);u=(v.then?(await v)():v)[0];let y=new e.AppRouteRouteModule({definition:{kind:f.RouteKind.APP_ROUTE,page:"/api/replays/[id]/image/route",pathname:"/api/replays/[id]/image",filename:"route",bundlePath:"app/api/replays/[id]/image/route"},distDir:".next",relativeProjectDir:"",resolvedPagePath:"C:\\Users\\porte\\Downloads\\sap-replay-bot-main\\sap-replay-bot-main\\app\\api\\replays\\[id]\\image\\route.js",nextConfigOutput:"",userland:u}),{workAsyncStorage:z,workUnitAsyncStorage:A,serverHooks:B}=y;function w(){return(0,g.patchFetch)({workAsyncStorage:z,workUnitAsyncStorage:A})}async function x(a,b,c){var d;let e="/api/replays/[id]/image/route";"/index"===e&&(e="/");let g=await y.prepare(a,b,{srcPage:e,multiZoneDraftMode:!1});if(!g)return b.statusCode=400,b.end("Bad Request"),null==c.waitUntil||c.waitUntil.call(c,Promise.resolve()),null;let{buildId:u,params:v,nextConfig:w,isDraftMode:x,prerenderManifest:z,routerServerContext:A,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,resolvedPathname:D}=g,E=(0,j.normalizeAppPath)(e),F=!!(z.dynamicRoutes[E]||z.routes[D]);if(F&&!x){let a=!!z.routes[D],b=z.dynamicRoutes[E];if(b&&!1===b.fallback&&!a)throw new s.NoFallbackError}let G=null;!F||y.isDev||x||(G=D,G="/index"===G?"/":G);let H=!0===y.isDev||!F,I=F&&!H,J=a.method||"GET",K=(0,i.getTracer)(),L=K.getActiveScopeSpan(),M={params:v,prerenderManifest:z,renderOpts:{experimental:{cacheComponents:!!w.experimental.cacheComponents,authInterrupts:!!w.experimental.authInterrupts},supportsDynamicResponse:H,incrementalCache:(0,h.getRequestMeta)(a,"incrementalCache"),cacheLifeProfiles:null==(d=w.experimental)?void 0:d.cacheLife,isRevalidate:I,waitUntil:c.waitUntil,onClose:a=>{b.on("close",a)},onAfterTaskError:void 0,onInstrumentationRequestError:(b,c,d)=>y.onRequestError(a,b,d,A)},sharedContext:{buildId:u}},N=new k.NodeNextRequest(a),O=new k.NodeNextResponse(b),P=l.NextRequestAdapter.fromNodeNextRequest(N,(0,l.signalFromNodeResponse)(b));try{let d=async c=>y.handle(P,M).finally(()=>{if(!c)return;c.setAttributes({"http.status_code":b.statusCode,"next.rsc":!1});let d=K.getRootSpanAttributes();if(!d)return;if(d.get("next.span_type")!==m.BaseServerSpan.handleRequest)return void console.warn(`Unexpected root span type '${d.get("next.span_type")}'. Please report this Next.js issue https://github.com/vercel/next.js`);let e=d.get("next.route");if(e){let a=`${J} ${e}`;c.setAttributes({"next.route":e,"http.route":e,"next.span_name":a}),c.updateName(a)}else c.updateName(`${J} ${a.url}`)}),g=async g=>{var i,j;let k=async({previousCacheEntry:f})=>{try{if(!(0,h.getRequestMeta)(a,"minimalMode")&&B&&C&&!f)return b.statusCode=404,b.setHeader("x-nextjs-cache","REVALIDATED"),b.end("This page could not be found"),null;let e=await d(g);a.fetchMetrics=M.renderOpts.fetchMetrics;let i=M.renderOpts.pendingWaitUntil;i&&c.waitUntil&&(c.waitUntil(i),i=void 0);let j=M.renderOpts.collectedTags;if(!F)return await (0,o.I)(N,O,e,M.renderOpts.pendingWaitUntil),null;{let a=await e.blob(),b=(0,p.toNodeOutgoingHttpHeaders)(e.headers);j&&(b[r.NEXT_CACHE_TAGS_HEADER]=j),!b["content-type"]&&a.type&&(b["content-type"]=a.type);let c=void 0!==M.renderOpts.collectedRevalidate&&!(M.renderOpts.collectedRevalidate>=r.INFINITE_CACHE)&&M.renderOpts.collectedRevalidate,d=void 0===M.renderOpts.collectedExpire||M.renderOpts.collectedExpire>=r.INFINITE_CACHE?void 0:M.renderOpts.collectedExpire;return{value:{kind:t.CachedRouteKind.APP_ROUTE,status:e.status,body:Buffer.from(await a.arrayBuffer()),headers:b},cacheControl:{revalidate:c,expire:d}}}}catch(b){throw(null==f?void 0:f.isStale)&&await y.onRequestError(a,b,{routerKind:"App Router",routePath:e,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:B})},A),b}},l=await y.handleResponse({req:a,nextConfig:w,cacheKey:G,routeKind:f.RouteKind.APP_ROUTE,isFallback:!1,prerenderManifest:z,isRoutePPREnabled:!1,isOnDemandRevalidate:B,revalidateOnlyGenerated:C,responseGenerator:k,waitUntil:c.waitUntil});if(!F)return null;if((null==l||null==(i=l.value)?void 0:i.kind)!==t.CachedRouteKind.APP_ROUTE)throw Object.defineProperty(Error(`Invariant: app-route received invalid cache entry ${null==l||null==(j=l.value)?void 0:j.kind}`),"__NEXT_ERROR_CODE",{value:"E701",enumerable:!1,configurable:!0});(0,h.getRequestMeta)(a,"minimalMode")||b.setHeader("x-nextjs-cache",B?"REVALIDATED":l.isMiss?"MISS":l.isStale?"STALE":"HIT"),x&&b.setHeader("Cache-Control","private, no-cache, no-store, max-age=0, must-revalidate");let m=(0,p.fromNodeOutgoingHttpHeaders)(l.value.headers);return(0,h.getRequestMeta)(a,"minimalMode")&&F||m.delete(r.NEXT_CACHE_TAGS_HEADER),!l.cacheControl||b.getHeader("Cache-Control")||m.get("Cache-Control")||m.set("Cache-Control",(0,q.getCacheControlHeader)(l.cacheControl)),await (0,o.I)(N,O,new Response(l.value.body,{headers:m,status:l.value.status||200})),null};L?await g(L):await K.withPropagatedContext(a.headers,()=>K.trace(m.BaseServerSpan.handleRequest,{spanName:`${J} ${a.url}`,kind:i.SpanKind.SERVER,attributes:{"http.method":J,"http.target":a.url}},g))}catch(b){if(b instanceof s.NoFallbackError||await y.onRequestError(a,b,{routerKind:"App Router",routePath:E,routeType:"route",revalidateReason:(0,n.c)({isRevalidate:I,isOnDemandRevalidate:B})}),F)throw b;return await (0,o.I)(N,O,new Response(null,{status:500})),null}}d()}catch(a){d(a)}})},846:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1357:(a,b,c)=>{"use strict";let d=c(9021),e=c(9902),f=null;function g(a){return a&&"string"==typeof a?a.replace(/\/+$/,""):null}function h(a){let b=String(a||"").replace(/^\/+/,"").replace(/\\/g,"/"),c=e.join(process.cwd(),"public",b);if(d.existsSync(c))return c;let h=f||(process.env.ASSET_BASE_URL?g(process.env.ASSET_BASE_URL):process.env.VERCEL_URL?g(`https://${process.env.VERCEL_URL}`):null);return h?`${h}/${b}`:e.join(process.cwd(),b)}let i=h("i-dunno.png"),j=h("i-dunno.png");a.exports={API_VERSION:"45",assetPath:h,setAssetBaseUrl:function(a){f=g(a)},PLACEHOLDER_SPRITE:i,PLACEHOLDER_PERK:j,BASE_CANVAS_WIDTH:1250,WIN_PERCENT_COLUMN_WIDTH:260,FOOTER_HEIGHT:60,CANVAS_WIDTH:1510,LUCK_DRAW_WEIGHT:.7,LUCK_POINTS_MULTIPLIER:10,LUCK_POINTS_CLIP:50,PET_WIDTH:50,BATTLE_HEIGHT:125,A_DAY_IN_MS:864e5,BATTLE_OUTCOMES:{WIN:1,LOSS:2,TIE:3},PACK_MAP:{0:"Turtle",1:"Puppy",2:"Star",3:"Custom",4:"Weekly",5:"Golden",6:"Unicorn",7:"Danger"}}},2807:(a,b,c)=>{"use strict";let d=c(9021),e=c(9902),f=JSON.parse(d.readFileSync(e.join(process.cwd(),"pets.json"))),g={};for(let a of f)g[a.Id]=a;let h=JSON.parse(d.readFileSync(e.join(process.cwd(),"perks.json"))),i={};for(let a of h)i[a.Id]=a;let j=JSON.parse(d.readFileSync(e.join(process.cwd(),"toys.json"))),k={};for(let a of j)k[a.Id]=a;a.exports={PETS:g,PERKS:i,TOYS:k}},2812:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.r(b),c.d(b,{GET:()=>h,runtime:()=>l});var e=c(641),f=c(6825),g=a([f]);f=(g.then?(await g)():g)[0];let{renderReplayImage:i}=c(6975),{getBattleInfo:j}=c(7305),{setAssetBaseUrl:k}=c(1357),l="nodejs";async function h(a,b){try{let b=new URL(a.url);k(b.origin)}catch{}let c=b?.params?await b.params:null,d=c?.id;if(!d)try{let b=new URL(a.url).pathname.split("/").filter(Boolean),c=b.indexOf("replays");-1!==c&&b[c+1]&&(d=b[c+1])}catch{}if(!d)return e.NextResponse.json({error:"missing id"},{status:400});let{rows:g}=await f.d.query("select raw_json from replays where id=$1",[d]);if(!g.length)return e.NextResponse.json({error:"not found"},{status:404});let h=g[0].raw_json,l=5;if(h?.GenesisModeModel)try{let a=JSON.parse(h.GenesisModeModel);Number.isFinite(a?.MaxLives)&&(l=a.MaxLives)}catch{}let m=h.Actions||[],n=m.filter(a=>0===a.Type).map(a=>JSON.parse(a.Battle)),o=m.filter(a=>1===a.Type).map(a=>JSON.parse(a.Mode).Opponents),p=n.map(j),q=n[0]?.User?.DisplayName||null,r=p[0]?.opponentName||null;try{let a=await i({battles:p,battleOpponentInfo:o,maxLives:l,includeOdds:!1,winPercentResults:[],playerName:q,headerOpponentName:r});return new e.NextResponse(a,{headers:{"Content-Type":"image/png","Cache-Control":"public, max-age=31536000, immutable"}})}catch(a){return console.error("Replay image render failed",{id:d,error:a?.message||a,stack:a?.stack||null}),e.NextResponse.json({error:"failed to render image"},{status:500})}}d()}catch(a){d(a)}})},3033:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},3295:a=>{"use strict";a.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},4235:(a,b,c)=>{"use strict";let d,e=c(9902);try{d=c(8183)}catch(a){try{d=c(9194)}catch{throw a}}!function(){let a=e.join(process.cwd(),"assets","fonts","Inter-Regular.ttf");try{if(d?.GlobalFonts?.registerFromPath){d.GlobalFonts.registerFromPath(a,"Arial"),d.GlobalFonts.registerFromPath(a,"sans-serif");return}"function"==typeof d?.registerFont&&(d.registerFont(a,{family:"Arial"}),d.registerFont(a,{family:"sans-serif"}))}catch{}}(),a.exports=d},4870:a=>{"use strict";a.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},4939:a=>{"use strict";a.exports=import("pg")},6439:a=>{"use strict";a.exports=require("next/dist/shared/lib/no-fallback-error.external")},6487:()=>{},6825:(a,b,c)=>{"use strict";c.a(a,async(a,d)=>{try{c.d(b,{d:()=>h});var e=c(4939),f=a([e]);e=(f.then?(await f)():f)[0];let g=globalThis,h=g.pgPool||new e.Pool({connectionString:process.env.DATABASE_URL});g.pgPool||(g.pgPool=h),d()}catch(a){d(a)}})},6975:(a,b,c)=>{"use strict";let d=c(4235),{drawPet:e,drawToy:f}=c(8141),{parsePercentValue:g,calcLuckPoints:h}=c(8314),{BASE_CANVAS_WIDTH:i,CANVAS_WIDTH:j,FOOTER_HEIGHT:k,PET_WIDTH:l,BATTLE_HEIGHT:m,BATTLE_OUTCOMES:n,PLACEHOLDER_SPRITE:o,PLACEHOLDER_PERK:p,assetPath:q}=c(1357);async function r(a,b=o){let c="string"==typeof a&&a.trim()?a:b;try{return await d.loadImage(c)}catch{if(c!==b)return d.loadImage(b);throw Error("failed to load image and fallback")}}function s(a,b,c,d){let e=null==b?"":String(b);a.fillText(e,c,d)}a.exports={renderReplayImage:async function({battles:a,battleOpponentInfo:b,maxLives:c,includeOdds:t,winPercentResults:u,playerName:v,headerOpponentName:w}){let x=t?u.map((a,b)=>a&&a.player&&a.opponent&&a.draw?null:b+1).filter(a=>null!==a):[],y=a.some(a=>[...a.playerBoard?.boardPets||[],...a.oppBoard?.boardPets||[]].some(a=>{if(!a||"Token Pet"===a.name)return!1;let b=a.imagePath===o,c=a.perkImagePath===p||"UNKNOWN PERK"===a.perk;return b||c})),z=t?j:i,A=t?k:0,B=v&&w?36:0,C=d.createCanvas(z,B+a.length*m+A),D=C.getContext("2d"),E=D.fillText.bind(D);D.fillText=(a,b,c,d)=>{let e=null==a?"":String(a),f=Number.isFinite(Number(b))?Number(b):0,g=Number.isFinite(Number(c))?Number(c):0;if(null==d)return E(e,f,g);let h=Number.isFinite(Number(d))?Number(d):void 0;return void 0===h?E(e,f,g):E(e,f,g,h)},D.textAlign="center",D.fillStyle="#FFFFFF",D.fillRect(0,0,z,B+a.length*m+A),D.font="18px Arial",B&&(D.fillStyle="#000000",D.font="18px Arial",D.textAlign="center",s(D,`${v} vs ${w}`,z/2,24));let F=(25+l)*2,G=15+l,H=await r(q("hourglass-twemoji.png")),I=await r(q("heart-twemoji.png")),J=0,K=0,L=c,M=(a,c)=>{for(let d=a;d>=0;d--){let a=b[d];if(!a)continue;let e=a.find(a=>a.DisplayName===c);if(e)return e}return null};for(let d=0;d<a.length;d++){let j;2===d&&L<c&&L++;let k=B+d*m,o=k+25,p=u[d]||null,q=p?g(p.player):null,r=a[d].outcome===n.WIN&&null!==q&&q<=5;if(D.fillStyle="#FFFFFF",r)D.fillStyle="#F4D35E";else switch(a[d].outcome){case n.WIN:D.fillStyle="#E6F4EA";break;case n.LOSS:D.fillStyle="#FDECEA";break;case n.TIE:D.fillStyle="#F2F2F2";break;default:D.fillStyle="#FFFFFF"}switch(D.fillRect(0,k,z,m),D.drawImage(H,25,o,l,l),D.fillStyle="black",D.font="24px Arial",s(D,d+1,25+l+15,o+l/2+6),D.drawImage(I,F,o,l,l),D.fillStyle="white",D.font="24px Arial",s(D,L,F+l/2,o+(l-24)+6),D.fillStyle="black",D.font="18px Arial",a[d].outcome){case n.LOSS:j="LOSS",L--;break;case n.WIN:j="WIN";break;case n.TIE:j="TIE";break;default:j="ERROR IDK"}s(D,j,F+l/2,o+l+18+6);for(let b=0;b<a[d].playerBoard.boardPets.length;b++){let c=b*(l+25)+25+F+G,f=a[d].playerBoard.boardPets[b];await e(D,f,c,o,!0)}a[d].playerBoard.toy.imagePath&&await f(D,a[d].playerBoard.toy,5*(l+25)+F+G,o);let v=0;if(b[d]||d>0){let b=M(d,a[d].opponentName),c=b?b.Lives:null;null!=c&&(a[d].outcome===n.WIN&&c++,D.drawImage(I,i-l-25,o,l,l),D.fillStyle="white",D.font="24px Arial",s(D,c,i-l-25+l/2,o+(l-24)+6),v=G+25)}for(let b=0;b<a[d].oppBoard.boardPets.length;b++){let c=i-(b*(l+25)+l+25+v),f=a[d].oppBoard.boardPets[b];await e(D,f,c,o,!1)}if(a[d].oppBoard.toy.imagePath&&await f(D,a[d].oppBoard.toy,i-(6*(l+25)+v),o),t){if(D.textAlign="left",p&&p.player&&p.opponent&&p.draw){let b=g(p.opponent),c=g(p.draw),e=Math.max(q??-1,b??-1,c??-1),f=[q,b,c].some(a=>100===a),j=i+10,k=o+8,l=q/100+c/100*.5;if(f&&100!==q||(D.fillStyle="#137333",D.font=q===e?"bold 16px Arial":"16px Arial",s(D,`Win ${p.player}`,j,k)),!f||100===b){let a=f?k:k+18;D.fillStyle="#B00020",D.font=b===e?"bold 16px Arial":"16px Arial",s(D,`Loss ${p.opponent}`,j,a)}if(!f||100===c){let a=f?k:k+36;D.fillStyle="#000000",D.font=c===e?"bold 16px Arial":"16px Arial",s(D,`Draw ${p.draw}`,j,a)}if(!f){let b=h(p,a[d].outcome);b&&(J+=b.raw,K+=1)}let m=k+54;D.fillStyle="#444444",D.font="14px Arial",s(D,`Expected: ${l.toFixed(3)}`,j,m),r&&(D.fillStyle="#7A5C00",D.font="bold 16px Arial",s(D,"GAPED",j,m+18))}else D.fillStyle="#000000",D.font="16px Arial",s(D,"Win% unavailable",i+10,o+l/2+6);D.textAlign="center"}}if(t){let b=B+a.length*m;D.fillStyle="#FFFFFF",D.fillRect(0,b,z,k),D.fillStyle="#000000",D.font="18px Arial",D.textAlign="left";let c=K>0?J/K:null;if(s(D,K>0?`Total Luck: ${J.toFixed(2)} | Average Luck: ${c.toFixed(2)}`:"Luck score unavailable",25,b+35),x.length||y){let a=[];if(x.length){let b=x.slice(0,5).join(", "),c=x.length>5?", ...":"";a.push(`Win% missing turns: ${b}${c}`)}y&&a.push("Unknown pet/perk data detected"),D.font="14px Arial",D.fillStyle="#444444",s(D,`Warnings: ${a.join(" | ")}`,25,b+55)}D.textAlign="center"}return C.toBuffer("image/png")}}},7305:(a,b,c)=>{"use strict";let d=c(9902),{PETS:e,PERKS:f,TOYS:g}=c(2807),{PLACEHOLDER_SPRITE:h,PLACEHOLDER_PERK:i,assetPath:j}=c(1357);function k(a){let b=(a,b=0)=>{let c=Number(a);return Number.isFinite(c)?c:b},c=Number(a.Enu??0),g=e[c]?e[c].Name:"Token Pet",k=b(a?.Lvl,1),l=b(a?.Exp,0),m=b(a?.At?.Perm,0),n=b(a?.Hp?.Perm,0),o=b(a?.At?.Temp,0),p=b(a?.Hp?.Temp,0),q=a.Perk??-1,r=e[c]?j(d.join("Sprite","Pets",`${e[c].NameId}.png`)):h;return -1===q?{name:g,attack:m,health:n,tempAttack:o,tempHealth:p,level:k,xp:l,perk:null,imagePath:r,perkImagePath:null}:{name:g,attack:m,health:n,tempAttack:o,tempHealth:p,level:k,xp:l,perk:f[q]?f[q].Name:"UNKNOWN PERK",imagePath:r,perkImagePath:f[q]?j(d.join("Sprite","Food",`${f[q].NameId}.png`)):i}}a.exports={getBattleInfo:function(a){let b={};for(let c of(b.playerBoard={boardPets:[],toy:{imagePath:null,level:0}},b.oppBoard={boardPets:[],toy:{imagePath:null,level:0}},b.outcome=a.Outcome,b.opponentName=a.Opponent.DisplayName,a.UserBoard.Mins.Items))null!==c&&b.playerBoard.boardPets.push(k(c));for(let c of a.UserBoard.Rel.Items)if(null!==c&&c.Enu){let a=c.Enu;b.playerBoard.toy.imagePath=g[a]?j(d.join("Sprite","Toys",`${g[a].NameId}.png`)):h,b.playerBoard.toy.level=c.Lvl}for(let c of a.OpponentBoard.Mins.Items)null!==c&&b.oppBoard.boardPets.push(k(c));for(let c of a.OpponentBoard.Rel.Items)if(null!==c&&c.Enu){let a=c.Enu;b.oppBoard.toy.imagePath=g[a]?j(d.join("Sprite","Toys",`${g[a].NameId}.png`)):h,b.oppBoard.toy.level=c.Lvl}return b},getPetInfo:k}},8141:(a,b,c)=>{"use strict";let d=c(4235),{PET_WIDTH:e,PLACEHOLDER_SPRITE:f,PLACEHOLDER_PERK:g}=c(1357);async function h(a,b){let c="string"==typeof a&&a.trim()?a:b;try{return await d.loadImage(c)}catch{if(c!==b)return d.loadImage(b);throw Error("failed to load image and fallback")}}function i(a,b,c,d){let e=null==b?"":String(b);a.fillText(e,c,d)}a.exports={drawPet:async function(a,b,c,d,j){let k=(a,b=0)=>{let c=Number(a);return Number.isFinite(c)?c:b},l=(a,b="")=>null==a?b:String(a),m=k(b?.attack),n=k(b?.tempAttack),o=k(b?.health),p=k(b?.tempHealth),q=k(b?.level,1),r=k(b?.xp,0),s=await h(b?.imagePath,f);if(j?(a.save(),a.scale(-1,1),a.drawImage(s,-(c+e),d,e,e),a.restore()):a.drawImage(s,c,d,e,e),b.perk){let e=await h(b?.perkImagePath,g);a.drawImage(e,c+30,d-10,30,30)}if(a.font="18px Arial",a.fillStyle="green",i(a,l(m+n,"0"),c+e/4,d+e+20),a.fillStyle="red",i(a,l(o+p,"0"),c+3*e/4,d+e+20),a.font="12px Arial",a.fillStyle="grey",i(a,"Lvl",c,d-6),a.font="18px Arial",a.fillStyle="orange",i(a,l(q,"1"),c+18,d-7.5),r<2)for(let b=0;b<2;b++)a.beginPath(),b<r?a.fillStyle="orange":a.fillStyle="grey",a.roundRect(c-9+16*b,d-2,14,6,2),a.fill();else for(let b=0;b<3;b++)a.beginPath(),b<r-2?a.fillStyle="orange":a.fillStyle="grey",a.roundRect(c-9+12*b,d-2,10,6,2),a.fill()},drawToy:async function(a,b,c,d){if(!b?.imagePath)return;let g=await h(b.imagePath,f);a.drawImage(g,c,d,e,e),a.fillStyle="black",a.font="12px Arial",i(a,`Lv${b.level}`,c+e/2,d+3*e/2)}}},8183:a=>{"use strict";a.exports=require("@napi-rs/canvas")},8314:(a,b,c)=>{"use strict";let{BATTLE_OUTCOMES:d}=c(1357);function e(a){if(!a)return null;let b=Number(String(a).replace("%",""));return Number.isFinite(b)?b:null}a.exports={parsePercentValue:e,getOutcomeChance:function(a,b){return a?b===d.WIN?e(a.player):b===d.LOSS?e(a.opponent):b===d.TIE?e(a.draw):null:null},calcLuckPoints:function(a,b){if(!a)return null;let c=e(a.player),f=e(a.opponent),g=e(a.draw);if(null===c||null===f||null===g)return null;let h=null;return(b===d.WIN?h=1:b===d.LOSS?h=0:b===d.TIE&&(h=.5),null===h)?null:{raw:h-(c/100+g/100*.5)}}}},8335:()=>{},9021:a=>{"use strict";a.exports=require("fs")},9121:a=>{"use strict";a.exports=require("next/dist/server/app-render/action-async-storage.external.js")},9194:a=>{"use strict";a.exports=require("canvas")},9294:a=>{"use strict";a.exports=require("next/dist/server/app-render/work-async-storage.external.js")},9902:a=>{"use strict";a.exports=require("path")}};var b=require("../../../../../webpack-runtime.js");b.C(a);var c=b.X(0,[331,692],()=>b(b.s=389));module.exports=c})();
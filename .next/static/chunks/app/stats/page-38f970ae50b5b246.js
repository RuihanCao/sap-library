(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[266],{2770:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>p});var t=s(5155),n=s(2115),l=s(2619),r=s.n(l);let c=["AboveCloudsBuild.png","ArcticBuild.png","AutumnForestBuild.png","BeachBuild.png","BridgeBuild.png","CastleWallBuild.png","CaveBuild.png","ChildRoomBuild.png","ChristmasCabinBuild.png","ColosseumBuild.png","CornFieldBuild.png","CyberSpaceBuild.png","DesertBuild.png","DungeonBuild.png","FarmBuild.png","FieldBuild.png","FoodLandBuild.png","FrontYardBuild.png","HalloweenStreetBuild.png","InsideSecretBaseBuild.png","JungleBuild.png","LavaCaveBuild.png","LavaMountainBuild.png","LunarTempleBuild.png","MoneyBinBuild.png","MoonBuild.png","PagodaBuild.png","PlaygroundBuild.png","SavannaBuild.png","ScaryForestBuild.png","SchoolHallwayBuild.png","SewerBuild.png","SnackBinBuild.png","SnowBuild.png","SpaceStationBuild.png","UnderwaterBuild.png","UrbanCityBuild.png","WildWestTownBuild.png","WinterPineForestBuild.png","WizardSchoolBuild.png"],i={cool:{bg:"#f3f6fb","bg-2":"#e3ebf6",panel:"#f6f9ff","panel-2":"#dbe8f7",surface:"#f9fbff",ink:"#0f1a2a",muted:"#4a5b76",edge:"#c7d6ea",accent:"#3aa7c9","accent-2":"#6ac2f0","accent-3":"#9ad7ff",glow:"rgba(74, 175, 230, 0.22)","overlay-1":"rgba(9, 17, 34, 0.62)","overlay-2":"rgba(9, 17, 34, 0.2)"},warm:{bg:"#fff0e3","bg-2":"#ffd8c4",panel:"#fff3e9","panel-2":"#ffcaa8",surface:"#fff7f0",ink:"#2a1408",muted:"#7a4b2f",edge:"#f2b68a",accent:"#ff8a3d","accent-2":"#ffb062","accent-3":"#ffd09a",glow:"rgba(255, 146, 84, 0.22)","overlay-1":"rgba(40, 18, 8, 0.58)","overlay-2":"rgba(40, 18, 8, 0.22)"},forest:{bg:"#eff6ee","bg-2":"#d7ead4",panel:"#f3faf2","panel-2":"#cfe8c9",surface:"#f7fbf6",ink:"#122414",muted:"#4c6a52",edge:"#bcd8bf",accent:"#3b9d64","accent-2":"#6bc489","accent-3":"#9fe2b6",glow:"rgba(59, 157, 100, 0.22)","overlay-1":"rgba(9, 20, 12, 0.6)","overlay-2":"rgba(9, 20, 12, 0.2)"},aqua:{bg:"#ecfbfb","bg-2":"#cdeff0",panel:"#f0fcfd","panel-2":"#c2edf0",surface:"#f7ffff",ink:"#0f2a2e",muted:"#4f6c73",edge:"#b6dfe3",accent:"#3cb4b9","accent-2":"#6dd7da","accent-3":"#9fe7ea",glow:"rgba(60, 180, 185, 0.22)","overlay-1":"rgba(6, 20, 24, 0.56)","overlay-2":"rgba(6, 20, 24, 0.2)"},night:{bg:"#eef1f7","bg-2":"#d2d8e6",panel:"#f4f6fb","panel-2":"#c7d0e6",surface:"#f8f9fd",ink:"#141a28",muted:"#515c74",edge:"#b7c1d7",accent:"#5b79ff","accent-2":"#7aa5ff","accent-3":"#b2c7ff",glow:"rgba(91, 121, 255, 0.2)","overlay-1":"rgba(8, 12, 24, 0.66)","overlay-2":"rgba(8, 12, 24, 0.22)"},stone:{bg:"#f2f1ef","bg-2":"#d9d4ce",panel:"#f7f4ef","panel-2":"#d5cec5",surface:"#faf8f5",ink:"#201c18",muted:"#5a524b",edge:"#c8bfb5",accent:"#b06b4c","accent-2":"#d2986b","accent-3":"#e5c3a1",glow:"rgba(176, 107, 76, 0.2)","overlay-1":"rgba(20, 16, 12, 0.6)","overlay-2":"rgba(20, 16, 12, 0.22)"}},d=["Custom","Weekly"];function o(e){return!Number.isFinite(e)||e<=0?"0%":"".concat((100*e).toFixed(1),"%")}function u(e){let{label:a,options:s,selected:l,onChange:r,placeholder:c}=e,[i,d]=(0,n.useState)(""),[o,u]=(0,n.useState)(!1),p=(0,n.useMemo)(()=>{let e=i.trim().toLowerCase();return e?s.filter(a=>a.name.toLowerCase().includes(e)).slice(0,80):s.slice(0,80)},[s,i]);return(0,t.jsxs)("div",{className:"multi-select",children:[(0,t.jsx)("div",{className:"multi-label",children:a}),(0,t.jsx)("input",{className:"multi-input",placeholder:c,value:i,onChange:e=>d(e.target.value),onFocus:()=>u(!0),onBlur:()=>setTimeout(()=>u(!1),150)}),o&&p.length>0&&(0,t.jsx)("div",{className:"multi-list",children:p.map(e=>(0,t.jsxs)("button",{type:"button",className:"multi-option",onMouseDown:e=>e.preventDefault(),onClick:()=>{var a;return a=e.name,void(!l.includes(a)&&(r([...l,a]),d("")))},children:[(0,t.jsx)("img",{src:e.sprite,alt:""}),(0,t.jsx)("span",{children:e.name}),(0,t.jsx)("span",{className:"multi-add",children:"Add"})]},e.name))}),l.length>0&&(0,t.jsx)("div",{className:"multi-chips",children:l.map(e=>{let a=s.find(a=>a.name===e);return(0,t.jsxs)("button",{type:"button",className:"chip",onClick:()=>{r(l.filter(a=>a!==e))},title:"Remove",children:[(null==a?void 0:a.sprite)?(0,t.jsx)("img",{src:a.sprite,alt:""}):null,(0,t.jsx)("span",{children:e}),(0,t.jsx)("span",{className:"chip-x",children:"\xd7"})]},e)})})]})}function p(){let[e,a]=(0,n.useState)({pets:[],perks:[],toys:[],packs:[]}),[s,l]=(0,n.useState)({scope:"game",pack:"",opponentPack:"",pet:[],petLevel:"",perk:[],toy:[],allyPet:[],opponentPet:[],allyPerk:[],opponentPerk:[],allyToy:[],opponentToy:[],tags:""}),[p,h]=(0,n.useState)({totalGames:0,packStats:[],petStats:[],perkStats:[],toyStats:[]}),[m,v]=(0,n.useState)(!1),[x,j]=(0,n.useState)("name"),[g,b]=(0,n.useState)("asc"),[y,f]=(0,n.useState)("name"),[N,k]=(0,n.useState)("asc"),[w,S]=(0,n.useState)("name"),[P,C]=(0,n.useState)("asc"),[B,_]=(0,n.useState)("card"),[L,M]=(0,n.useState)({pet:!1,perk:!1,toy:!1});(0,n.useEffect)(()=>{if(!c.length)return;let e=c[Math.floor(Math.random()*c.length)],a=function(e){let a=e.toLowerCase();return a.includes("arctic")||a.includes("snow")||a.includes("winter")||a.includes("moon")||a.includes("space")||a.includes("lunar")?i.cool:a.includes("desert")||a.includes("savanna")||a.includes("wildwest")||a.includes("lava")||a.includes("beach")||a.includes("snack")?i.warm:a.includes("underwater")||a.includes("aquatic")?i.aqua:a.includes("forest")||a.includes("jungle")||a.includes("farm")||a.includes("field")||a.includes("corn")||a.includes("frontyard")?i.forest:a.includes("cyber")||a.includes("wizard")||a.includes("pagoda")||a.includes("castle")?i.night:a.includes("dungeon")||a.includes("cave")||a.includes("sewer")||a.includes("bridge")||a.includes("school")||a.includes("moneybin")?i.stone:i.forest}(e),s=document.documentElement;s.style.setProperty("--bg-image",'url("/Sprite/Background/'.concat(e,'")')),Object.entries(a).forEach(e=>{let[a,t]=e;s.style.setProperty("--".concat(a),t)})},[]),(0,n.useEffect)(()=>{fetch("/api/meta").then(e=>e.json()).then(e=>a({pets:e.pets||[],perks:e.perks||[],toys:e.toys||[],packs:e.packs||[]})).catch(()=>a({pets:[],perks:[],toys:[],packs:[]}))},[]);let W=(0,n.useMemo)(()=>e.packs.filter(e=>!d.includes(e.name)),[e.packs]),E=(0,n.useMemo)(()=>e.pets,[e.pets]),T=(0,n.useMemo)(()=>e.perks,[e.perks]),F=(0,n.useMemo)(()=>e.toys,[e.toys]);async function G(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s;v(!0);try{var a,t,n,l,r,c,i,d,o;let s=new URLSearchParams;e.scope&&s.set("scope",e.scope),e.pack&&s.set("pack",e.pack),e.opponentPack&&s.set("opponentPack",e.opponentPack),(null==(a=e.pet)?void 0:a.length)&&s.set("pet",e.pet.join(",")),e.petLevel&&s.set("petLevel",e.petLevel),(null==(t=e.perk)?void 0:t.length)&&s.set("perk",e.perk.join(",")),(null==(n=e.toy)?void 0:n.length)&&s.set("toy",e.toy.join(",")),(null==(l=e.allyPet)?void 0:l.length)&&s.set("allyPet",e.allyPet.join(",")),(null==(r=e.opponentPet)?void 0:r.length)&&s.set("opponentPet",e.opponentPet.join(",")),(null==(c=e.allyPerk)?void 0:c.length)&&s.set("allyPerk",e.allyPerk.join(",")),(null==(i=e.opponentPerk)?void 0:i.length)&&s.set("opponentPerk",e.opponentPerk.join(",")),(null==(d=e.allyToy)?void 0:d.length)&&s.set("allyToy",e.allyToy.join(",")),(null==(o=e.opponentToy)?void 0:o.length)&&s.set("opponentToy",e.opponentToy.join(",")),e.tags&&s.set("tags",e.tags);let u=await fetch("/api/stats?".concat(s.toString())),p=await u.json();h({totalGames:p.totalGames||0,packStats:p.packStats||[],petStats:p.petStats||[],perkStats:p.perkStats||[],toyStats:p.toyStats||[]})}finally{v(!1)}}(0,n.useEffect)(()=>{G(s)},[s.scope]);let R=e=>{var a;return null==(a=E.find(a=>a.name===e))?void 0:a.sprite},D=e=>{var a;return null==(a=T.find(a=>a.name===e))?void 0:a.sprite},A=e=>{var a;return null==(a=F.find(a=>a.name===e))?void 0:a.sprite},O=e=>({Turtle:"/Sprite/Pets/Turtle.png",Puppy:"/Sprite/Pets/Puppy.png",Star:"/Sprite/Pets/Starfish.png",Golden:"/Sprite/Pets/GoldenRetriever.png",Unicorn:"/Sprite/Pets/Unicorn.png",Danger:"/Sprite/Pets/BlueWhale.png"})[e]||null,U={Turtle:0,Puppy:1,Star:2,Custom:3,Weekly:4,Golden:5,Unicorn:6,Danger:7},I="battle"===s.scope?[{value:"name",label:"Name"},{value:"count",label:"Rounds"},{value:"winrate",label:"Winrate"},{value:"lossrate",label:"Lossrate"},{value:"drawrate",label:"Drawrate"}]:[{value:"name",label:"Name"},{value:"buyCount",label:"Buy Count"},{value:"pickrate",label:"Pickrate"},{value:"buyWinrate",label:"Winrate (Buy)"},{value:"buyLossrate",label:"Lossrate (Buy)"},{value:"endCount",label:"End Count"},{value:"endRate",label:"End Rate"},{value:"endWinrate",label:"Winrate (End)"},{value:"endLossrate",label:"Lossrate (End)"}],Y=(e,a,s)=>{let t="desc"===s?-1:1;return[...e].sort((e,s)=>{let n=a(e),l=a(s);return null==n&&null==l?0:null==n?1:null==l?-1:"string"==typeof n||"string"==typeof l?t*String(n).localeCompare(String(l)):t*(Number(n)-Number(l))})},q=(0,n.useMemo)(()=>[...p.packStats].sort((e,a)=>{var s,t;let n=null!=(s=U[e.pack])?s:999,l=null!=(t=U[a.pack])?t:999;return n!==l?n-l:String(e.pack||"").localeCompare(String(a.pack||""))}),[p.packStats]),z=(0,n.useMemo)(()=>Y(p.petStats,e=>{let a=Number(p.totalGames||0),s=Number(e.games_with||0),t=Number(e.wins_with||0),n=Number(e.draws_with||0),l=Math.max(0,s-t-n),r=Number(e.games_end||0),c=Number(e.wins_end||0),i=Math.max(0,r-c-Number(e.draws_end||0));switch(x){case"name":default:return e.pet_name;case"count":case"buyCount":return s;case"winrate":case"buyWinrate":return s?t/s:0;case"lossrate":case"buyLossrate":return s?l/s:0;case"drawrate":return s?n/s:0;case"pickrate":return a?s/a:0;case"endCount":return r;case"endRate":return a?r/a:0;case"endWinrate":return r?c/r:0;case"endLossrate":return r?i/r:0}},g),[p.petStats,p.totalGames,x,g]),H=(0,n.useMemo)(()=>Y(p.perkStats,e=>{let a=Number(p.totalGames||0),s=Number(e.games_with||0),t=Number(e.wins_with||0),n=Number(e.draws_with||0),l=Math.max(0,s-t-n),r=Number(e.games_end||0),c=Number(e.wins_end||0),i=Math.max(0,r-c-Number(e.draws_end||0));switch(y){case"name":default:return e.perk_name;case"count":case"buyCount":return s;case"winrate":case"buyWinrate":return s?t/s:0;case"lossrate":case"buyLossrate":return s?l/s:0;case"drawrate":return s?n/s:0;case"pickrate":return a?s/a:0;case"endCount":return r;case"endRate":return a?r/a:0;case"endWinrate":return r?c/r:0;case"endLossrate":return r?i/r:0}},N),[p.perkStats,p.totalGames,y,N]),J=(0,n.useMemo)(()=>Y(p.toyStats,e=>{let a=Number(p.totalGames||0),s=Number(e.games_with||0),t=Number(e.wins_with||0),n=Number(e.draws_with||0),l=Math.max(0,s-t-n),r=Number(e.games_end||0),c=Number(e.wins_end||0),i=Math.max(0,r-c-Number(e.draws_end||0));switch(w){case"name":default:return e.toy_name;case"count":case"buyCount":return s;case"winrate":case"buyWinrate":return s?t/s:0;case"lossrate":case"buyLossrate":return s?l/s:0;case"drawrate":return s?n/s:0;case"pickrate":return a?s/a:0;case"endCount":return r;case"endRate":return a?r/a:0;case"endWinrate":return r?c/r:0;case"endLossrate":return r?i/r:0}},P),[p.toyStats,p.totalGames,w,P]),K="stats-cards".concat("list"===B?" list-view":"");return(0,t.jsxs)("main",{onClick:()=>M({pet:!1,perk:!1,toy:!1}),children:[(0,t.jsxs)("div",{className:"top-nav",children:[(0,t.jsx)(r(),{href:"/",className:"nav-link",children:"Explorer"}),(0,t.jsx)(r(),{href:"/stats",className:"nav-link active",children:"Stats"})]}),(0,t.jsx)("header",{className:"hero",children:(0,t.jsxs)("div",{className:"hero-copy",children:[(0,t.jsx)("h1",{children:"Stats Lab"}),(0,t.jsx)("p",{children:"Winrates by pack, pet buy rates, and end-board impact. Excludes Custom, Weekly, and Arena games."})]})}),(0,t.jsxs)("section",{className:"section filters-section",children:[(0,t.jsxs)("div",{className:"section-head",children:[(0,t.jsx)("h2",{children:"Filters"}),(0,t.jsxs)("div",{className:"section-actions",children:[(0,t.jsx)("button",{className:"ghost",type:"button",onClick:()=>{let e={scope:"game",pack:"",opponentPack:"",pet:[],petLevel:"",perk:[],toy:[],allyPet:[],opponentPet:[],allyPerk:[],opponentPerk:[],allyToy:[],opponentToy:[],tags:""};l(e),G(e)},children:"Reset"}),(0,t.jsx)("button",{className:"secondary",type:"button",onClick:()=>G(s),children:"Apply"})]})]}),(0,t.jsxs)("div",{className:"filters",children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Scope"}),(0,t.jsxs)("select",{value:s.scope,onChange:e=>l({...s,scope:e.target.value}),children:[(0,t.jsx)("option",{value:"game",children:"Per Game"}),(0,t.jsx)("option",{value:"battle",children:"Per Battle"})]})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Player Pack"}),(0,t.jsxs)("select",{value:s.pack,onChange:e=>l({...s,pack:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Any"}),W.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Opponent Pack"}),(0,t.jsxs)("select",{value:s.opponentPack,onChange:e=>l({...s,opponentPack:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Any"}),W.map(e=>(0,t.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,t.jsx)(u,{label:"Pet",options:E,selected:s.pet,onChange:e=>l({...s,pet:e}),placeholder:"Search pets and add"}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Pet Level"}),(0,t.jsxs)("select",{value:s.petLevel,onChange:e=>l({...s,petLevel:e.target.value}),children:[(0,t.jsx)("option",{value:"",children:"Any"}),(0,t.jsx)("option",{value:"1",children:"1"}),(0,t.jsx)("option",{value:"2",children:"2"}),(0,t.jsx)("option",{value:"3",children:"3"})]})]}),(0,t.jsx)(u,{label:"Perk",options:T,selected:s.perk,onChange:e=>l({...s,perk:e}),placeholder:"Search perks and add"}),(0,t.jsx)(u,{label:"Toy",options:F,selected:s.toy,onChange:e=>l({...s,toy:e}),placeholder:"Search toys and add"})]}),(0,t.jsxs)("details",{className:"advanced-panel",children:[(0,t.jsx)("summary",{children:"Advanced"}),(0,t.jsx)("p",{className:"advanced-note",children:"Filter by board presence for each side. Matches any battle in a game."}),(0,t.jsxs)("div",{className:"filters advanced-filters",children:[(0,t.jsx)(u,{label:"Your Side Pet",options:E,selected:s.allyPet,onChange:e=>l({...s,allyPet:e}),placeholder:"Search pets and add"}),(0,t.jsx)(u,{label:"Opponent Pet",options:E,selected:s.opponentPet,onChange:e=>l({...s,opponentPet:e}),placeholder:"Search pets and add"}),(0,t.jsx)(u,{label:"Your Side Perk",options:T,selected:s.allyPerk,onChange:e=>l({...s,allyPerk:e}),placeholder:"Search perks and add"}),(0,t.jsx)(u,{label:"Opponent Perk",options:T,selected:s.opponentPerk,onChange:e=>l({...s,opponentPerk:e}),placeholder:"Search perks and add"}),(0,t.jsx)(u,{label:"Your Side Toy",options:F,selected:s.allyToy,onChange:e=>l({...s,allyToy:e}),placeholder:"Search toys and add"}),(0,t.jsx)(u,{label:"Opponent Toy",options:F,selected:s.opponentToy,onChange:e=>l({...s,opponentToy:e}),placeholder:"Search toys and add"}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Tags (comma)"}),(0,t.jsx)("input",{placeholder:"tournament, week1",value:s.tags,onChange:e=>l({...s,tags:e.target.value})})]})]})]})]}),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"results-header",children:[(0,t.jsx)("h2",{children:"Summary"}),(0,t.jsxs)("div",{className:"results-actions",children:[(0,t.jsx)("div",{className:"status",children:m?"Loading...":"".concat(p.totalGames," ").concat("battle"===s.scope?"rounds":"games")}),(0,t.jsxs)("div",{className:"view-toggle",children:[(0,t.jsx)("button",{type:"button",className:"toggle".concat("card"===B?" active":""),onClick:()=>_("card"),children:"Cards"}),(0,t.jsx)("button",{type:"button",className:"toggle".concat("list"===B?" active":""),onClick:()=>_("list"),children:"List"})]})]})]}),!m&&0===p.totalGames&&(0,t.jsx)("div",{className:"empty-state",children:"No games match the current filters."})]}),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsx)("div",{className:"results-header",children:(0,t.jsx)("h2",{children:"Pack Winrates"})}),(0,t.jsxs)("div",{className:K,children:[q.map(e=>{let a=Number(e.games||0),n=Number(e.wins||0),l=Number(e.draws||0),r=Math.max(0,a-n-l);return(0,t.jsxs)("div",{className:"stats-card",children:[(0,t.jsxs)("div",{className:"stats-card-head",children:[O(e.pack)?(0,t.jsx)("img",{src:O(e.pack),alt:""}):null,(0,t.jsx)("h4",{children:e.pack})]}),(0,t.jsx)("div",{className:"stats-card-meta",children:(0,t.jsxs)("span",{children:["battle"===s.scope?"Rounds":"Games",": ",a]})}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Winrate: ",o(a?n/a:0)]}),(0,t.jsxs)("div",{children:["Lossrate: ",o(a?r/a:0)]}),"battle"===s.scope?(0,t.jsxs)("div",{children:["Drawrate: ",o(a?l/a:0)]}):null]})]},e.pack)}),0===p.packStats.length&&!m&&(0,t.jsx)("div",{className:"stats-card empty",children:"No pack stats yet."})]})]}),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"results-header",children:[(0,t.jsx)("h2",{children:"Pet Impact"}),(0,t.jsxs)("div",{className:"sort-menu",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("button",{type:"button",className:"icon-button","aria-label":"Sort pet stats",onClick:()=>M(e=>({pet:!e.pet,perk:!1,toy:!1})),children:["Sort",(0,t.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M4 6h10M4 12h16M4 18h7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]}),L.pet&&(0,t.jsxs)("div",{className:"sort-panel",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Sort"}),(0,t.jsx)("select",{value:x,onChange:e=>j(e.target.value),children:I.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Order"}),(0,t.jsxs)("select",{value:g,onChange:e=>b(e.target.value),children:[(0,t.jsx)("option",{value:"asc",children:"Asc"}),(0,t.jsx)("option",{value:"desc",children:"Desc"})]})]})]})]})]}),(0,t.jsxs)("div",{className:K,children:[z.map(e=>{let a=Number(p.totalGames||0),n=Number(e.games_with||0),l=Number(e.wins_with||0),r=Number(e.games_end||0),c=Number(e.wins_end||0),i=Number(e.draws_with||0),d=Number(e.draws_end||0),u=Math.max(0,n-l-i),h=Math.max(0,r-c-d);return(0,t.jsxs)("div",{className:"stats-card",children:[(0,t.jsxs)("div",{className:"stats-card-head",children:[R(e.pet_name)?(0,t.jsx)("img",{src:R(e.pet_name),alt:""}):null,(0,t.jsx)("h4",{children:e.pet_name})]}),"battle"===s.scope?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"stats-card-meta",children:["Rounds: ",n]}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Winrate: ",o(n?l/n:0)]}),(0,t.jsxs)("div",{children:["Lossrate: ",o(n?u/n:0)]}),(0,t.jsxs)("div",{children:["Drawrate: ",o(n?i/n:0)]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"stats-card-meta",children:["Buy: ",n]}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Pickrate: ",o(a?n/a:0)]}),(0,t.jsxs)("div",{children:["Winrate (Buy): ",o(n?l/n:0)]}),(0,t.jsxs)("div",{children:["Lossrate (Buy): ",o(n?u/n:0)]}),(0,t.jsxs)("div",{children:["End: ",r]}),(0,t.jsxs)("div",{children:["End Rate: ",o(a?r/a:0)]}),(0,t.jsxs)("div",{children:["Winrate (End): ",o(r?c/r:0)]}),(0,t.jsxs)("div",{children:["Lossrate (End): ",o(r?h/r:0)]})]})]})]},e.pet_name)}),0===p.petStats.length&&!m&&(0,t.jsx)("div",{className:"stats-card empty",children:"No pet stats yet."})]})]}),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"results-header",children:[(0,t.jsx)("h2",{children:"Perk Impact"}),(0,t.jsxs)("div",{className:"sort-menu",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("button",{type:"button",className:"icon-button","aria-label":"Sort perk stats",onClick:()=>M(e=>({pet:!1,perk:!e.perk,toy:!1})),children:["Sort",(0,t.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M4 6h10M4 12h16M4 18h7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]}),L.perk&&(0,t.jsxs)("div",{className:"sort-panel",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Sort"}),(0,t.jsx)("select",{value:y,onChange:e=>f(e.target.value),children:I.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Order"}),(0,t.jsxs)("select",{value:N,onChange:e=>k(e.target.value),children:[(0,t.jsx)("option",{value:"asc",children:"Asc"}),(0,t.jsx)("option",{value:"desc",children:"Desc"})]})]})]})]})]}),(0,t.jsxs)("div",{className:K,children:[H.map(e=>{let a=Number(p.totalGames||0),n=Number(e.games_with||0),l=Number(e.wins_with||0),r=Number(e.games_end||0),c=Number(e.wins_end||0),i=Number(e.draws_with||0),d=Number(e.draws_end||0),u=Math.max(0,n-l-i),h=Math.max(0,r-c-d);return(0,t.jsxs)("div",{className:"stats-card",children:[(0,t.jsxs)("div",{className:"stats-card-head",children:[D(e.perk_name)?(0,t.jsx)("img",{src:D(e.perk_name),alt:""}):null,(0,t.jsx)("h4",{children:e.perk_name})]}),"battle"===s.scope?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"stats-card-meta",children:["Rounds: ",n]}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Winrate: ",o(n?l/n:0)]}),(0,t.jsxs)("div",{children:["Lossrate: ",o(n?u/n:0)]}),(0,t.jsxs)("div",{children:["Drawrate: ",o(n?i/n:0)]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"stats-card-meta",children:["Buy: ",n]}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Pickrate: ",o(a?n/a:0)]}),(0,t.jsxs)("div",{children:["Winrate (Buy): ",o(n?l/n:0)]}),(0,t.jsxs)("div",{children:["Lossrate (Buy): ",o(n?u/n:0)]}),(0,t.jsxs)("div",{children:["End: ",r]}),(0,t.jsxs)("div",{children:["End Rate: ",o(a?r/a:0)]}),(0,t.jsxs)("div",{children:["Winrate (End): ",o(r?c/r:0)]}),(0,t.jsxs)("div",{children:["Lossrate (End): ",o(r?h/r:0)]})]})]})]},"perk-".concat(e.perk_name))}),0===p.perkStats.length&&!m&&(0,t.jsx)("div",{className:"stats-card empty",children:"No perk stats yet."})]})]}),(0,t.jsxs)("section",{className:"section",children:[(0,t.jsxs)("div",{className:"results-header",children:[(0,t.jsx)("h2",{children:"Toy Impact"}),(0,t.jsxs)("div",{className:"sort-menu",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("button",{type:"button",className:"icon-button","aria-label":"Sort toy stats",onClick:()=>M(e=>({pet:!1,perk:!1,toy:!e.toy})),children:["Sort",(0,t.jsx)("svg",{viewBox:"0 0 24 24","aria-hidden":"true",children:(0,t.jsx)("path",{d:"M4 6h10M4 12h16M4 18h7",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})]}),L.toy&&(0,t.jsxs)("div",{className:"sort-panel",onClick:e=>e.stopPropagation(),children:[(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Sort"}),(0,t.jsx)("select",{value:w,onChange:e=>S(e.target.value),children:I.map(e=>(0,t.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,t.jsxs)("div",{className:"field",children:[(0,t.jsx)("label",{children:"Order"}),(0,t.jsxs)("select",{value:P,onChange:e=>C(e.target.value),children:[(0,t.jsx)("option",{value:"asc",children:"Asc"}),(0,t.jsx)("option",{value:"desc",children:"Desc"})]})]})]})]})]}),(0,t.jsxs)("div",{className:K,children:[J.map(e=>{let a=Number(p.totalGames||0),n=Number(e.games_with||0),l=Number(e.wins_with||0),r=Number(e.games_end||0),c=Number(e.wins_end||0),i=Number(e.draws_with||0),d=Number(e.draws_end||0),u=Math.max(0,n-l-i),h=Math.max(0,r-c-d);return(0,t.jsxs)("div",{className:"stats-card",children:[(0,t.jsxs)("div",{className:"stats-card-head",children:[A(e.toy_name)?(0,t.jsx)("img",{src:A(e.toy_name),alt:""}):null,(0,t.jsx)("h4",{children:e.toy_name})]}),"battle"===s.scope?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"stats-card-meta",children:["Rounds: ",n]}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Winrate: ",o(n?l/n:0)]}),(0,t.jsxs)("div",{children:["Lossrate: ",o(n?u/n:0)]}),(0,t.jsxs)("div",{children:["Drawrate: ",o(n?i/n:0)]})]})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)("div",{className:"stats-card-meta",children:["Buy: ",n]}),(0,t.jsxs)("div",{className:"stats-card-metrics",children:[(0,t.jsxs)("div",{children:["Pickrate: ",o(a?n/a:0)]}),(0,t.jsxs)("div",{children:["Winrate (Buy): ",o(n?l/n:0)]}),(0,t.jsxs)("div",{children:["Lossrate (Buy): ",o(n?u/n:0)]}),(0,t.jsxs)("div",{children:["End: ",r]}),(0,t.jsxs)("div",{children:["End Rate: ",o(a?r/a:0)]}),(0,t.jsxs)("div",{children:["Winrate (End): ",o(r?c/r:0)]}),(0,t.jsxs)("div",{children:["Lossrate (End): ",o(r?h/r:0)]})]})]})]},"toy-".concat(e.toy_name))}),0===p.toyStats.length&&!m&&(0,t.jsx)("div",{className:"stats-card empty",children:"No toy stats yet."})]})]})]})}},9605:(e,a,s)=>{Promise.resolve().then(s.bind(s,2770))}},e=>{e.O(0,[619,441,255,358],()=>e(e.s=9605)),_N_E=e.O()}]);